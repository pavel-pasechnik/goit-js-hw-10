{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["'use strict';\n// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst selector = document.querySelector('#datetime-picker');\nconst btn = document.querySelector('button');\n\nlet userSelectedDate;\n\nbtn.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    // console.log(selectedDates[0]);\n    if (selectedDates[0] <= new Date()) {\n      // window.alert('Please choose a date in the future');\n      iziToast.show({\n        title: '',\n        message: 'Please choose a date in the future',\n        messageColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        color: '#B51B1B',\n        iconUrl: './bi_x-octagon.svg',\n        iconColor: '#FAFAFB',\n        position: 'topRight',\n      });\n      btn.disabled = true;\n    } else {\n      btn.disabled = false;\n      updateUserSelectedDate(selectedDates[0]);\n    }\n  },\n};\n\nconst datePicker = flatpickr(selector, options);\n\nfunction updateUserSelectedDate(selectedDate) {\n  userSelectedDate = selectedDate;\n\n  class Timer {\n    #time = userSelectedDate - Date.now();\n    #elementDays;\n    #elementHovers;\n    #elementMinutes;\n    #elementSeconds;\n    constructor(Days, Hovers, Minutes, Seconds) {\n      this.#elementDays = document.querySelector(Days);\n      this.#elementHovers = document.querySelector(Hovers);\n      this.#elementMinutes = document.querySelector(Minutes);\n      this.#elementSeconds = document.querySelector(Seconds);\n      this.#render();\n    }\n\n    start() {\n      const intervalId = setInterval(() => {\n        this.#time -= 1000;\n        btn.disabled = true;\n        if (this.#time <= 0) {\n          clearInterval(intervalId);\n        } else {\n          this.#render();\n        }\n      }, 1000);\n    }\n\n    stop() {}\n\n    #convertMs(ms) {\n      // Number of milliseconds per unit of time\n      const second = 1000;\n      const minute = second * 60;\n      const hour = minute * 60;\n      const day = hour * 24;\n\n      // Remaining days\n      const days = this.pad(Math.floor(ms / day));\n      // Remaining hours\n      const hours = this.pad(Math.floor((ms % day) / hour));\n      // Remaining minutes\n      const minutes = this.pad(Math.floor(((ms % day) % hour) / minute));\n      // Remaining seconds\n      const seconds = this.pad(\n        Math.floor((((ms % day) % hour) % minute) / second)\n      );\n\n      return { days, hours, minutes, seconds };\n    }\n\n    pad(value) {\n      return String(value).padStart(2, '0');\n    }\n\n    #render() {\n      const { days, hours, minutes, seconds } = this.#convertMs(this.#time);\n\n      this.#elementDays.textContent = `${days}`;\n      this.#elementHovers.textContent = `${hours}`;\n      this.#elementMinutes.textContent = `${minutes}`;\n      this.#elementSeconds.textContent = `${seconds}`;\n    }\n  }\n\n  const timer = new Timer(\n    'span[data-days]',\n    'span[data-hours]',\n    'span[data-minutes]',\n    'span[data-seconds]'\n  );\n\n  btn.addEventListener('click', timer.start.bind(timer));\n}\n"],"names":["selector","btn","userSelectedDate","options","selectedDates","iziToast","updateUserSelectedDate","flatpickr","selectedDate","Timer","Days","Hovers","Minutes","Seconds","__privateAdd","_convertMs","_render","_time","_elementDays","_elementHovers","_elementMinutes","_elementSeconds","__privateSet","__privateMethod","render_fn","intervalId","__privateGet","value","convertMs_fn","ms","days","hours","minutes","seconds","timer"],"mappings":"geAQA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAM,SAAS,cAAc,QAAQ,EAE3C,IAAIC,EAEJD,EAAI,SAAW,GAEf,MAAME,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAEjBA,EAAc,IAAM,IAAI,MAE1BC,EAAS,KAAK,CACZ,MAAO,GACP,QAAS,qCACT,aAAc,UACd,gBAAiB,UACjB,MAAO,UACP,QAAS,qBACT,UAAW,UACX,SAAU,UAClB,CAAO,EACDJ,EAAI,SAAW,KAEfA,EAAI,SAAW,GACfK,EAAuBF,EAAc,EAAE,EAE1C,CACH,EAEmBG,EAAUP,EAAUG,CAAO,EAE9C,SAASG,EAAuBE,EAAc,uBAC5CN,EAAmBM,EAEnB,MAAMC,CAAM,CAMV,YAAYC,EAAMC,EAAQC,EAASC,EAAS,CAsB5CC,EAAA,KAAAC,GAyBAD,EAAA,KAAAE,GApDAF,EAAA,KAAAG,EAAQf,EAAmB,KAAK,OAChCY,EAAA,KAAAI,EAAA,QACAJ,EAAA,KAAAK,EAAA,QACAL,EAAA,KAAAM,EAAA,QACAN,EAAA,KAAAO,EAAA,QAEEC,EAAA,KAAKJ,EAAe,SAAS,cAAcR,CAAI,GAC/CY,EAAA,KAAKH,EAAiB,SAAS,cAAcR,CAAM,GACnDW,EAAA,KAAKF,EAAkB,SAAS,cAAcR,CAAO,GACrDU,EAAA,KAAKD,EAAkB,SAAS,cAAcR,CAAO,GACrDU,EAAA,KAAKP,EAAAQ,GAAL,UACD,CAED,OAAQ,CACN,MAAMC,EAAa,YAAY,IAAM,CACnCH,EAAA,KAAKL,EAALS,EAAA,KAAKT,GAAS,KACdhB,EAAI,SAAW,GACXyB,EAAA,KAAKT,IAAS,EAChB,cAAcQ,CAAU,EAExBF,EAAA,KAAKP,EAAAQ,GAAL,UAEH,EAAE,GAAI,CACR,CAED,MAAO,CAAE,CAuBT,IAAIG,EAAO,CACT,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACrC,CAUF,CA5DCV,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YACAC,EAAA,YAuBAN,EAAA,YAAAa,EAAU,SAACC,EAAI,CAQb,MAAMC,EAAO,KAAK,IAAI,KAAK,MAAMD,EAAK,KAAG,CAAC,EAEpCE,EAAQ,KAAK,IAAI,KAAK,MAAOF,EAAK,MAAO,IAAI,CAAC,EAE9CG,EAAU,KAAK,IAAI,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,CAAC,EAE3DI,EAAU,KAAK,IACnB,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,CAC1D,EAEM,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACvC,EAMDjB,EAAA,YAAAQ,EAAO,UAAG,CACR,KAAM,CAAE,KAAAM,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYV,EAAA,KAAKR,EAAAa,GAAL,UAAgBF,EAAA,KAAKT,IAE/DS,EAAA,KAAKR,GAAa,YAAc,GAAGY,IACnCJ,EAAA,KAAKP,GAAe,YAAc,GAAGY,IACrCL,EAAA,KAAKN,GAAgB,YAAc,GAAGY,IACtCN,EAAA,KAAKL,GAAgB,YAAc,GAAGY,GACvC,EAGH,MAAMC,EAAQ,IAAIzB,EAChB,kBACA,mBACA,qBACA,oBACJ,EAEER,EAAI,iBAAiB,QAASiC,EAAM,MAAM,KAAKA,CAAK,CAAC,CACvD"}